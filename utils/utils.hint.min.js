if(UTILS.Hint=class extends UTILS.Base{constructor(data){return super(data),_log(this.getObjectName()+" --\x3e instantiated!",this.getId(),this),_.isPlainObject(data)&&("onShow"in data&&this.addCallback("onShow",data.onShow),"onHide"in data&&this.addCallback("onHide",data.onHide),"onCreate"in data&&this.addCallback("onCreate",data.onCreate)),this.set({msg:data.msg||"",color:data.color||"black",direction:data.direction||"right",duration:data.duration||"onhover",is_error:data.is_error||!1}).fns("onCreate"),this}getDefaults(){return{object:"utils.hint",version:"1.5.2",history:{},css:{},is_error:!1,msg:"",color:"black",direction:"right",duration:"onhover"}}clean(){this.fns("onBlur"),this.unHighlight();var classes=this.values.$target.attr("class").match(/(?:^|)hint-(\w+)(?!\w)/g)||[];return classes.length&&this.values.$target.removeClass(_.joinArray(classes," ")),this.values.$target.removeAttr("data-hint"),this}show(){var _show=function(){this.fns("onShow"),this.highlight(),this.values.$target.addClass(_.joinArray(_.values(this.values.css)," ")),!this.isInputOrSelect()||this.values.$elm.hasClass("form-control")||this.values.$elm.hasClass("input-field")||this.values.$target.width(this.values.$target.width()),this.values.$target.attr({"data-hint":this.values.msg}),this.values.duration&&this.clean.bind(this).delay(this.values.duration),this.isInputOrSelect()&&0==this.values.duration&&this.values.$elm.focus()}.bind(this);return this.values.is_wrapped?(delete this.values.is_wrapped,_show.delay(200)):_show(),this}hide(){return this.clean(),this}isInputOrSelect(){return this.values.$elm.is("input")||this.values.$elm.is("select")}highlight(){this.values.is_error&&("highlight"in this.values.history||(this.values.history.highlight={},this.values.history.highlight.$elm=this.isInputOrSelect()?this.values.$elm:this.values.$target,this.values.history.highlight.border_color=this.values.history.highlight.$elm.css("background-color")),this.values.history.highlight.$elm.css("background-color","#ffdddd"))}unHighlight(){"highlight"in this.values.history&&this.values.history.highlight.$elm.css("background-color",this.values.history.highlight.border_color)}adjustDirection(){if("direction"in this.values.css&&this.values.css.direction.match(/hint-left|hint-right/)){var $box_mainbody=this.values.$target.parent("div.box-mainbody");$box_mainbody.length&&$box_mainbody.outerWidth()-this.values.$target.outerWidth()<Math.min(5.5*this.values.msg.length,250)&&(this.values.css.direction="hint-top")}}setTarget(target){if($(target).is("input")||$(target).is("select")){this.values.$elm=$(target),this.values.css.show_always="hint-always";var $parent=this.values.$elm.parent("div.form-group,span.tooltip-wrapper,div.input-group");$parent.length||($parent=this.values.$elm.parent("div")),$parent.length?this.values.$target=$parent:(this.values.$elm.wrap('<span class="tooltip-wrapper"></span>'),this.values.$target=this.values.$elm.parent("span.tooltip-wrapper"),this.values.$elm.hasClass("width-full")&&this.values.$target.addClass("width-full"),this.values.is_wrapped=!0),this.values.onblur_event=function(){0==this.values.duration&&this.clean()}.bind(this),this.values.$elm.off("blur",this.values.onblur_event).on("blur",this.values.onblur_event)}else this.values.$elm&&"onblur_event"in this.values&&this.values.$elm.off("blur",this.values.onblur_event),this.values.$elm=this.values.$target=$(target),delete this.values.css.show_always;return this}set(data){if(data)for(var k in data)switch(!0){case/^target$/.test(k):this.setTarget(data[k]);break;case/^color$/.test(k):this.values.css.color="hint-"+(data[k]||"black");break;case/^direction$/.test(k):this.values.css.direction="hint-"+(data[k]||"right"),this.adjustDirection();break;case/^duration$/.test(k):switch(data[k]){case"always":this.values.duration=0,this.values.css.show_always="hint-always";break;case"onhover":this.values.duration=0,delete this.values.css.show_always;break;default:this.values.duration=data[k],this.values.css.show_always="hint-always"}break;case/^msg$/.test(k):this.values.msg=data[k],this.values.msg.length>45?this.values.css.fixed_width="hint-fixed":delete this.values.css.fixed_width,this.adjustDirection();break;case/^is_error$/.test(k):this.values.is_error=data[k];break;case/^onShow|onBlur|onCreate$/.test(k):if(data[k]&&_.isFunction(data[k])){for(var fn,is_unique=!0,i=0;fn=this.values.fns[k][i];i++)if(data[k]===fn){is_unique=!1;break}is_unique&&this.values.fns[k].push(data[k])}}return this}},!TOOLTIP)var TOOLTIP={values:{hints:[]},getHint:function($target){for(var h,hint=null,i=0;h=TOOLTIP.values.hints[i];i++)if(h.values.$elm[0]===$target[0]){hint=h;break}return hint},tooltip:function(options){TOOLTIP.hint(_.extend({type:"default",duration:"onhover",direction:"top"},options||{}))},hint:function(options){var colors={error:"red",info:"blue",warning:"yellow",success:"green",default:"black"};if(_.isPlainObject(options)&&"target"in options){options={target:$(options.target),msg:UTILS.Errors.getMessage(options.msg),color:colors[options.type]||colors.default,duration:options.duration||"always",direction:options.direction||"right",onShow:options.onShow||null,onBlur:options.onBlur||null,onCreate:options.onCreate||null,is_error:"error"==options.type};var hint=TOOLTIP.getHint(options.target);hint&&hint instanceof UTILS.Hint?hint.set(options):(hint=new UTILS.Hint(options),TOOLTIP.values.hints.push(hint)),hint.show()}}};