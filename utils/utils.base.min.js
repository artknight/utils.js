if(!UTILS)var UTILS={};UTILS.Base=class{constructor(data={}){return this.values={object:"utils.base",version:"0.1.6",id:UTILS.uuid(),$target:$("body"),ajax:{url:"",method:"",type:"POST",params:{}},scripts:[],fns:{}},_.extend(this.values,this.getDefaults(),data),_.isPlainObject(data)&&("target"in data&&this.setTarget(data.target),"ajax"in data&&this.setAjaxData(data.ajax),"scripts"in data&&this.setScripts(data.scripts),"id"in data&&this.setId(data.id)),this}getObjectName(){return this.values.object}getObjectVersion(){return this.values.version}fns(type,options={}){if(type&&type in this.values.fns){_.each(this.values.fns[type],function(callback){try{callback(this,options)}catch(e){_log(e)}}.bind(this));var event=`${this.getObjectName()}.${type.toLowerCase()}`.replace(/\./g,"-"),$target=this.getTarget();$target instanceof UTILS.Box&&($target=$target.getBox()),$target.trigger(event,options)}}addCallback(type,callback){return _.isFunction(callback)&&(_log(this.getObjectName()+" --\x3e callback added!",this.getId(),callback),_.includes(_.keys(this.values.fns),type)||(this.values.fns[type]=[]),!_.includes(this.values.fns[type],callback)&&this.values.fns[type].push(callback)),this}getId(){return this.values.id}setId(id){return this.values.id=id,this}getTarget(){return this.values.$target}setTarget(target){return this.values.$target=target instanceof UTILS.Box?target.getMainbody():$(target),this.values.$target.data(this.getObjectName(),this),this}getAjaxData(){return this.values.ajax}setAjaxData(ajax){return _.isPlainObject(ajax)&&("url"in ajax&&(this.values.ajax.url=ajax.url),"method"in ajax&&(this.values.ajax.method=ajax.method),"type"in ajax&&(this.values.ajax.type=ajax.type),"params"in ajax&&(this.values.ajax.params=ajax.params),"content_type"in ajax&&(this.values.ajax.content_type=ajax.content_type)),this}getScripts(){return this.values.scripts}setScripts(scripts){return this.values.scripts=scripts,this}loadScripts(callback){var scripts=this.getScripts();callback=_.isFunction(callback)?callback.call(this):new Function;return scripts.length?$LAB.script(scripts).wait(callback):callback(this),this}};