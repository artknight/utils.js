if(!UTILS)var UTILS={};UTILS.values={object:"utils",version:"1.0.2",numbers:"1234567890",letters:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",special:" .,-!@#$%&()?/\":;'",url:"?/-_.#,%&()+=!@*$:;",transition_event_start:"webkitTransitionStart otransitionstart oTransitionStart msTransitionStart transitionstart",transition_event_end:"webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",regex:{text:/^([a-zA-Z]+)$/,email:/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/,url:/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/,ip:/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,pwd:/^((?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,16})$/}},UTILS.isRetina=function(){return window.devicePixelRatio>1||window.matchMedia&&window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5),(-moz-min-device-pixel-ratio: 1.5),(min-device-pixel-ratio: 1.5)").matches},UTILS.isMobile=function(){return bowser.mobile||bowser.tablet},UTILS.isValidCreditCard=function(str){var number=str.replace(/\s+/g,"");number=number.split("").reverse().join("");for(var digits="",i=0;i<number.length;i++)digits+=""+(i%2?2*number.charAt(i):number.charAt(i));var sum=0;for(i=0;i<digits.length;i++)sum+=1*digits.charAt(i);return!(sum%10)},UTILS.isValidEmail=function(str){return!!str.match(UTILS.values.regex.email)},UTILS.isValidPhone=function(str){return 10==str.replace(/[^0-9]/g,"").length},UTILS.isValidPassword=function(str){return!!str.match(UTILS.values.regex.pwd)},UTILS.isValidDate=function(str,format="MM/DD/YYYY"){return moment(str,format).isValid()},UTILS.format={phone:function(phone,mask="(000) 000-0000 S00000"){return UTILS.format.mask(phone,mask)},mask:function(str,mask){if(mask)try{str=new StringMask(mask).apply(str)}catch(e){}return _.trim(str)},commafy:function(str){return str.replace(/^(-?\d+)(\d{3}(\.\d+)?)$/,function(_,a,b){return UTILS.format.commafy(a)+","+b})},toBoolean:function(val){return/y|yes|true|on|1/i.test(val)},shorten:function(str,limit,ending){return str.length>limit?str.substring(0,limit)+(ending||"..."):str},capitalize:function(str,scope){return"one"==(scope=scope||"all")?str.toLowerCase().replace(/\b[a-z]/,function(match){return match.toUpperCase()}):str.toLowerCase().replace(/\b[a-z]/g,function(match){return match.toUpperCase()})},filterOutHTML:function(html,tags_to_ignore){var _html=html,_tags_to_ignore=(tags_to_ignore=tags_to_ignore||"b,p,i,u,strike,br").split(",");for(i=0;i<_tags_to_ignore.length;i++)_html=(_html=_html.replace(new RegExp("<"+_tags_to_ignore[i]+"*?>","gi"),"["+_tags_to_ignore[i]+"]")).replace(new RegExp("</"+_tags_to_ignore[i]+"*?>","gi"),"[/"+_tags_to_ignore[i]+"]");for(_html=_html.replace(/<(.|\n)*?>/gi,""),i=0;i<_tags_to_ignore.length;i++)_html=(_html=_html.replace(new RegExp("\\["+_tags_to_ignore[i]+"*?\\]","gi"),"<"+_tags_to_ignore[i]+">")).replace(new RegExp("\\[/"+_tags_to_ignore[i]+"*?\\]","gi"),"</"+_tags_to_ignore[i]+">");return _html},urlEncode:function(str){return encodeURIComponent(str.toString())},urlDecode:function(str){return decodeURIComponent(str.toString())},htmlEncode:function(str){return he.encode(str.toString())},htmlDecode:function(str){return he.decode(str.toString())},lzEncode:function(str){return LZString.compressToBase64(str)},lzDecode:function(str){return LZString.decompressFromBase64(str)},idify:function(item_id){return item_id?~~parseFloat(item_id):0},compress:function(content){return lzbase62.compress(content)},decompress:function(content){return lzbase62.decompress(content)},toRegex:function(str){var regex=null;if(/^\/(.)+\/([gim]+)?$/.test(str)){var flags=str.replace(/.*\/([gimy]*)$/,"$1"),pattern=str.replace(new RegExp("^/(.*?)/"+flags+"$"),"$1");regex=new RegExp(pattern,flags)}return regex}},UTILS.inputMask={phone:function(input){var $input=$(input),mask=new IMask($input[0],{mask:[{mask:"+0 000-000-0000",startsWith:"1",lazy:!1,country:"United States"},{mask:"+00 {0} 000-00-0000",startsWith:"49",lazy:!1,country:"Germany"},{mask:"000-000-0000",startsWith:"",country:"United States"}],dispatch:function(appended,dynamic_mask){var number=(dynamic_mask.value+appended).replace(/\D/g,"");return dynamic_mask.compiledMasks.find(function(m){return 0===number.indexOf(m.startsWith)})}});return $input.data("imask",mask),mask}},UTILS.isValidRegex=function(str){return/^\/(.)+\/([gim]+)?$/.test(str)},UTILS.getCharKey=function(event){return event?event.charCode?event.charCode:event.keyCode?event.keyCode:event.which?event.which:0:0},UTILS.uuid=function(){var s4=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return s4()+"-"+s4()},UTILS.asc=function(_char){return _char.charCodeAt(0)},UTILS.chr=function(_charcode){return String.fromCharCode(_charcode)},UTILS.dim={values:{$elm:null},show:function(callback,options){var defaults={target:$("body"),color:"black",opac:.3,resize:!0,onShow:callback||null};options=_.extend(defaults,options||{});UTILS.dim.values.$elm=new UTILS.Blur(options),$("body").addClass("overflow global-dimmer"),UTILS.dim.values.$elm.show()},hide:function(){UTILS.dim.values.$elm.hide(),UTILS.dim.values.elm=null,$("body").removeClass("overflow global-dimmer")}},UTILS.file={ext:function(filename){return/[.]/.exec(filename)?/[^.]+$/.exec(filename):[]},check:function(file,type){type=type||"img";return _.isIn({img:["jpg","png","bmp","gif","tiff"],doc:["doc","rtf","txt","xls","zip"],vid:["mpeg","mpg","wmv","avi","rm","mp4","mov","fla","swf","flv","f4v"],font:["ttf","otf"]}[type],file.fileExtension().join().toLowerCase())}},UTILS.fn={bind:function(fn,scope){fn.targetScope=scope;return function(func,args){args=_.createArray(args);var scope=func.targetScope||window;return function(){try{var _args=_.forceArray(arguments).concat(args);return func.apply(scope,_args)}catch(e){}}}(fn,arguments.length>2?_.forceArray(arguments).slice(2):null)},bindMethods:function(scope){for(var k in scope){var func=scope[k];"function"==typeof func&&(scope[k]=UTILS.fn.bind(func,scope))}},interval:function(fn,interval){var args=slice.call(arguments,2);return setTimeout(function(){return fn.apply(null,args)},interval)},clear:function(timer){return clearTimeout(timer),clearInterval(timer),null}},UTILS.isDefined=function(obj){return!_.isUndefined(obj)&&!_.isNull(obj)},UTILS.getURLParams=function(){return Qs.parse(window.location.search,{ignoreQueryPrefix:!0})},UTILS.addParamToURL=function(url="",params=[]){for(let param of params)url+=(url.split("?")[1]?"&":"?")+param;return url},UTILS.getIframe=function(iframe){var $iframe=$(iframe);return{window:$iframe.length?$iframe[0].contentWindow?$iframe[0].contentWindow:$iframe[0].contentDocument.defaultView:null,document:$iframe.length?$iframe[0].contentDocument||$iframe[0].contentWindow.document:null}},UTILS.getIframeWindowObj=function(iframe){let iframe_window=null,$iframe=UTILS.getIframe(iframe);return $iframe.length&&(iframe_window=$iframe[0].contentWindow?$iframe[0].contentWindow:$iframe[0].contentDocument.defaultView),iframe_window},UTILS.getIframeDocObj=function(iframe){let iframe_document=null,$iframe=UTILS.getIframe(iframe);return $iframe.length&&(iframe_document=$iframe[0].contentDocument||$iframe[0].contentWindow.document),iframe_document},UTILS.createPromise=function(){var _resolve,_reject,promise=new Promise(function(resolve,reject){_resolve=resolve,_reject=reject});return promise.resolve=_resolve,promise.reject=_reject,promise},UTILS.print=function(url_or_elm=null){if(url_or_elm){let $iframe=$('<iframe name="print-wrapper" style="position:absolute; top:-10000000px;"></iframe>'),url=/^http|\//i.test(url_or_elm)?url_or_elm:"javascript:false;",_print=()=>{window.frames["print-wrapper"].document.body.innerHTML.length?(window.frames["print-wrapper"].focus(),window.frames["print-wrapper"].print(),setTimeout(()=>{$iframe.remove()},100)):setTimeout(_print,500)},_onIframeLoaded=()=>{if(/^javascript/.test(url)){let iframe_doc_obj=UTILS.getIframeDocObj($iframe),html=$(url_or_elm).html();iframe_doc_obj.open(),iframe_doc_obj.write(`<html><head><title>print content</title></head><body>${html}</body></html>`),iframe_doc_obj.close()}_print()};$iframe.on("load",_onIframeLoaded).prop("src",url).appendTo("body")}else window.print();return!1},UTILS.cookie={create:function(name,value,days){if(days){var date=new Date;date.setTime(date.getTime()+24*days*60*60*1e3);var expires="; expires="+date.toGMTString()}else expires="";document.cookie=name+"="+value+expires+"; path=/"},read:function(name){for(var nameEQ=name+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1,c.length);if(0==c.indexOf(nameEQ))return c.substring(nameEQ.length,c.length)}return null},erase:function(name){UTILS.cookie.create(name,"",-1)}},UTILS.log=function(){if(void 0!==APP.showLog&&APP.showLog()||!1){var now=new Date,timestamp=now.getHours()+":"+now.getMinutes()+":"+now.getSeconds(),args=[].slice.call(arguments);args.length&&(_log.history=_log.history||[],_log.history.push(args),this.console&&(console.log(timestamp.toString(),args.shift().toString(),args),arguments[0].stack&&console.error(arguments[0].stack)))}},UTILS.fetch=function(url="",opts={}){const options={url:url,headers:{"X-Requested-With":"XMLHttpRequest"},method:"method"in opts?opts.method.toUpperCase():"GET"};return options[/^GET/i.test(options.method)?"params":"data"]="data"in opts?opts.data:{},"method"in opts&&/^POST$/i.test(opts.method)&&(options.method="POST",options.headers["content-type"]="content_type"in opts?opts.content_type:"application/x-www-form-urlencoded;charset=UTF-8",options.data=Qs.stringify(options.data,{encodeValuesOnly:!0})),axios(options).then(response=>response.data)},_.mixin({isWindow:function(obj){return null!=obj&&obj===obj.window},createArray:function(){return _.flatten(_.toArray(arguments))},forceArray:function(arr1){if(_.isArray(arr1))return arr1;for(var arr2=[],i=0;i<arr1.length;i++)arr2.push(arr1[i]);return arr2},joinArray:function(list,delim){try{return list.join(delim)}catch(e){var r=list[0]||"";return _.each(list,function(elm){r+=delim+elm},1),r+""}},isIn:function(arr,elm,greedy){if(greedy)return-1!=_.indexOf(arr,elm);for(var i=0;i<arr.length;i++)if(elm==arr[i])return!0;return!1},compare:function(arr1,arr2){return!_.difference(arr1,arr2).length},reGroup:function(arr,delim){var groups={};return _.reduce(arr,function(result,item){var key=delim?item.split(delim)[0]:item[0],group=groups[key];return group||result.push(group=groups[key]=[]),group.push(item),result},[])}}),$.extend($.fn,{isValidCreditCard:function(){return UTILS.isValidCreditCard($(this).val())},isValidEmail:function(){return UTILS.isValidEmail($(this).val())},isValidPhone:function(){return UTILS.isValidPhone($(this).val())},isValidPassword:function(){return UTILS.isValidPassword($(this).val())},isValidDate:function(format="MM/DD/YYYY"){return UTILS.isValidDate($(this).val(),format)},setPhone:function(){return this.each(function(){var $input=$(this);$input.is(":input")?$input.val(UTILS.format.phone($input.val())):$input.text(UTILS.format.phone($input.text()))})},setMask:function(mask){return this.each(function(){var $input=$(this);$input.is(":input")?$input.val(UTILS.format.mask($input.val(),mask)):$input.text(UTILS.format.mask($input.text(),mask))})},enableInputMask:function(type="phone"){return this.each(function(){UTILS.inputMask[type]($(this))})},allowTabbing:function(){var keysAllowed={TAB:9};return this.each(function(){$(this).on("keydown",function(event){var charKey=UTILS.events.getCharKey(event);if(!_.isIn(_.values(keysAllowed),charKey)){event.preventDefault();var startPos=this.selectionStart,endPos=this.selectionEnd,scrollTop=this.scrollTop;this.value=this.value.substring(0,startPos)+"\t"+this.value.substring(endPos,this.value.length),this.focus(),this.selectionStart=startPos+"\t".length,this.selectionEnd=startPos+"\t".length,this.scrollTop=scrollTop}})})},capitalize:function(scope){return this.each(function(){var $input=$(this);$input.on("keyup",function(event){$input.val(UTILS.format.capitalize($input.val()),scope)})})},limitByCount:function(options){var splitter={word:" ",char:""}[(options=$.extend({limit:100,counterDiv:null,splitBy:"word"},options)).splitBy];return this.each(function(){var text,wordcount,limited,$textarea=$(this);options.counterDiv||(options.counterDiv=$('<p class="help-block text-right margin-t0 margin-b6"></p>'),$textarea.after(options.counterDiv)),options.counterDiv&&$(options.counterDiv).html("Max. "+options.limit+" "+options.splitBy+"s");var checkWords=function(){text=$textarea.val(),(wordcount=text.length?$.trim(text).split(splitter).length:0)>=options.limit?(options.counterDiv&&$(options.counterDiv).html("0 "+options.splitBy+"s left"),limited=(limited=$.trim(text).split(splitter,options.limit)).join(splitter),$textarea.val(limited)):options.counterDiv&&$(options.counterDiv).html(options.limit-wordcount+" "+options.splitBy+"s left")};$textarea.val().length&&checkWords(),$textarea.keyup(function(event){event.preventDefault(),checkWords()})})},setCenter:function(offset,parent){return this.each(function(){var $elm=$(this),$parent=_.isObject(parent)?$(parent):null,offset=offset&&_.isPlainObject(offset)?offset:{x:0,y:0};if(!$elm.parent().hasClass("box-scrollable")){!$elm.attr("class").match(/pos-fixed|pos-absolute/g)&&$elm.addClass("pos-absolute");var data={left:null!=$parent?$parent.outerWidth()/2:$(window).width()+$(window).scrollLeft()-$(window).width()/2,top:null!=$parent?$parent.outerHeight()/2:$(window).height()+$(window).scrollTop()-$(window).height()/2};$elm.hasClass("pos-fixed")&&(data.left=$(window).width()/2,data.top=$(window).height()/2),data.left-=$elm.outerWidth()/2+offset.x,data.top-=$elm.outerHeight()/2+offset.y,$elm.css(data)}})},ignore:function(sel){return this.clone().find(sel).remove().end()},nextNodeByClass:function(className){var $node=this;if(className){className="."+className.replace(/\./g,"");var $all=$(className);$node=$all.eq($all.index($node)+1)}return $node},prevNodeByClass:function(className){var $node=this;if(className){className="."+className.replace(/\./g,"");var $all=$(className),index=Math.abs($all.index($node))-1;$node=index>=0?$all.eq(index):$([])}return $node},putCursorAtEnd:function(custom_focus_event="focus"){return this.each(function(){let $field=$(this);if(/true/i.test($field.prop("contenteditable"))){let range,selection;document.createRange&&((range=document.createRange()).selectNodeContents(this),range.collapse(!1),range.startOffset&&range.endOffset&&((selection=window.getSelection()).removeAllRanges(),selection.addRange(range)))}else $field.on(custom_focus_event,function(event){setTimeout(function(){this.selectionStart=this.selectionEnd=1e4}.bind(this),0)});$field.focus()})}}),$.extend($.expr[":"],{regex:function(elem,index,match){var matchParams=match[3].split(","),validLabels=/^(data|css):/,attr={method:matchParams[0].match(validLabels)?matchParams[0].split(":")[0]:"attr",property:matchParams.shift().replace(validLabels,"")};return new RegExp(matchParams.join("").replace(/^\s+|\s+$/g,""),"ig").test(jQuery(elem)[attr.method](attr.property))},width:function(a,i,m){return!(!m[3]||!/^(<|>)d+$/.test(m[3]))&&(">"===m[3].substr(0,1)?$(a).width()>m[3].substr(1):$(a).width()<m[3].substr(1))},data:function(a,i,m){var keyVal,e=$(a).get(0);if(m[3])return(keyVal=m[3].split("="))[1]?/^.+([mig]+)?$/.test(keyVal[1])?new RegExp(keyVal[1].substr(1,keyVal[1].lastIndexOf("/")-1),keyVal[1].substr(keyVal[1].lastIndexOf("/")+1)).test($(a).data(keyVal[0])):$(a).data(keyVal[0])==keyVal[1]:!!$(a).data(keyVal[0])||($(a).removeData(keyVal[0]),!1);for(var x in e)if(/jQueryd+/.test(x))return!0;return!1}}),$.cssNumber.gridRowStart=$.cssNumber.gridRowEnd=$.cssNumber.gridColumnStart=$.cssNumber.gridColumnEnd=!0,!Array.prototype.first&&(Array.prototype.first=function(num_of_elms){return"number"==typeof num_of_elms?_.dropRight(this,this.length-num_of_elms):_.first(this)}),!Array.prototype.last&&(Array.prototype.last=function(num_of_elms){return"number"==typeof num_of_elms?_.drop(this,this.length-num_of_elms):_.last(this)}),!Array.prototype.min&&(Array.prototype.min=function(){return _.min(this)}),!Array.prototype.max&&(Array.prototype.max=function(){return _.max(this)}),!Array.prototype.index&&(Array.prototype.index=function(elm){return _.indexOf(this,elm)}),!Array.prototype.flatten&&(Array.prototype.flatten=function(){return _.flatten(this)}),!Array.prototype.diff&&(Array.prototype.diff=function(array){return _.difference(this,array)}),!Array.prototype.isIn&&(Array.prototype.isIn=function(elm){return _.isIn(this,elm)}),!Array.prototype.intersect&&(Array.prototype.intersect=function(arr){return _.intersection(this,arr)}),!Array.prototype.compare&&(Array.prototype.compare=function(arr){return _.compare(this,arr)}),!Array.prototype.prepend&&(Array.prototype.prepend=function(elm){return this.unshift(elm)}),!Array.prototype.reGroup&&(Array.prototype.reGroup=function(delim){return _.reGroup(this,delim)}),!Function.prototype.delay&&(Function.prototype.delay=function(interval,args){return _.delay(this,interval,args)}),!Function.prototype.interval&&(Function.prototype.interval=function(interval,args){return UTILS.fn.interval(this,interval,args)}),!Function.prototype.bind&&(Function.prototype.bind=function(scope,args){return UTILS.fn.bind(this,scope,args)}),!jQuery.fetch&&(jQuery.fetch=UTILS.fetch),!String.prototype.urlEncode&&(String.prototype.urlEncode=function(){return UTILS.format.urlEncode(this)}),!String.prototype.urlDecode&&(String.prototype.urlDecode=function(){return UTILS.format.urlDecode(this)}),!String.prototype.htmlEncode&&(String.prototype.htmlEncode=function(){return UTILS.format.htmlEncode(this)}),!String.prototype.htmlDecode&&(String.prototype.htmlDecode=function(){return UTILS.format.htmlDecode(this)}),!String.prototype.sha1Encode&&(String.prototype.sha1Encode=function(){return UTILS.Encryption.sha1(this)}),!String.prototype.base64Encode&&(String.prototype.base64Encode=function(){return UTILS.Encryption.base64.encode(this)}),!String.prototype.base64Decode&&(String.prototype.base64Decode=function(){return UTILS.Encryption.base64.decode(this)}),!String.prototype.lzEncode&&(String.prototype.lzEncode=function(){return UTILS.format.lzEncode(this)}),!String.prototype.lzDecode&&(String.prototype.lzDecode=function(){return UTILS.format.lzDecode(this)}),!String.prototype.fileExtension&&(String.prototype.fileExtension=function(){return UTILS.file.ext(this)}),!String.prototype.capitalize&&(String.prototype.capitalize=function(scope){return UTILS.format.capitalize(this,scope)}),!String.prototype.idify&&(String.prototype.idify=Number.prototype.idify=function(){return UTILS.format.idify(this)}),!String.prototype.shorten&&(String.prototype.shorten=function(limit,ending){return UTILS.format.shorten(this,limit,ending)}),!String.prototype.compress&&(String.prototype.compress=function(){return UTILS.format.compress(this)}),!String.prototype.decompress&&(String.prototype.decompress=function(){return UTILS.format.decompress(this)}),!String.prototype.toRegex&&(String.prototype.toRegex=function(){return UTILS.format.toRegex(this)}),!String.prototype.isValidRegex&&(String.prototype.isValidRegex=function(){return UTILS.isValidRegex(this)}),function(){var old_parseInt=parseInt;parseInt=function(number,radix){return old_parseInt(number,radix||10)}}(),window.toBoolean=UTILS.format.toBoolean,window._log=UTILS.log,"undefined"!=typeof module&&module.hasOwnProperty("exports")&&(module.exports={Array:Array,String:String,Function:Function,parseInt:parseInt,UTILS:UTILS,toBoolean:UTILS.format.toBoolean,_log:UTILS.log});