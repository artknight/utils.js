var UTILS=UTILS||{};UTILS.values={object:"utils",version:"1.2.7",numbers:"1234567890",letters:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",special:" .,-!@#$%&()?/\":;'",url:"?/-_.#,%&()+=!@*$:;",transition_event_start:"webkitTransitionStart otransitionstart oTransitionStart msTransitionStart transitionstart",transition_event_end:"webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",regex:{text:/^([a-zA-Z]+)$/,email:/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/,url:/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/,ip:/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,pwd:/^((?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,16})$/},browser:null},UTILS.attachTransitionEvent=(elm,css_prop)=>{let $elm=$(elm),event_regex=UTILS.format.toRegex(`/^${css_prop}/`),orig_value=$elm.css(css_prop);$elm.attr("data-orig-trans-value",orig_value).on(UTILS.values.transition_event_end,event=>{var event_state;event_regex.test(event.originalEvent.propertyName)&&(event_state=$elm.css(css_prop)!==orig_value?"midway":"completed",$elm.trigger(event_state,{event:event.originalEvent}))})},UTILS.deepCopy=obj=>"object"!=typeof obj||null===obj?obj:obj.nodeType&&"function"==typeof obj.cloneNode?obj.cloneNode(!0):obj instanceof Date?new Date(obj.getTime()):obj instanceof Array?obj.reduce((arr,item,i)=>(arr[i]=UTILS.deepCopy(item),arr),[]):obj instanceof Object?Object.keys(obj).reduce((newObj,key)=>(newObj[key]=UTILS.deepCopy(obj[key]),newObj),{}):void 0,UTILS.isRetina=function(){return 1<window.devicePixelRatio||window.matchMedia&&window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5),(-moz-min-device-pixel-ratio: 1.5),(min-device-pixel-ratio: 1.5)").matches},UTILS.isMobile=()=>{let check=!1;var a;return a=navigator.userAgent||navigator.vendor||window.opera,check=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))?!0:check},UTILS.isMobileAndTablet=()=>{let check=!1;var a;return a=navigator.userAgent||navigator.vendor||window.opera,check=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))?!0:check},UTILS.isValidCreditCard=function(str){for(var number=(number=str.replace(/\s+/g,"")).split("").reverse().join(""),digits="",i=0;i<number.length;i++)digits+=""+(i%2?2*number.charAt(i):number.charAt(i));for(var sum=0,i=0;i<digits.length;i++)sum+=+digits.charAt(i);return!(sum%10)},UTILS.isValidEmail=function(str){return!!str.match(UTILS.values.regex.email)},UTILS.isValidPhone=function(str){return 10==str.replace(/[^0-9]/g,"").length},UTILS.isValidPassword=function(str){return!!str.match(UTILS.values.regex.pwd)},UTILS.isValidDate=function(str,format="MM/DD/YYYY"){return moment(str,format).isValid()},UTILS.openPopup=(url="",name="_blank",parent_win=window,w=500,h=600,stripped=!1)=>{let y=parent_win.outerHeight/2+parent_win.screenY-h/2,x=parent_win.outerWidth/2+parent_win.screenX-w/2,options=`width=${w},height=${h},top=${y},left=`+x;return stripped&&(options+=",directories=no,titlebar=no,toolbar=no,location=no,status=no,menubar=no,scrollbars=no,resizable=yes"),parent_win.open(url,name,options)},UTILS.format={phone:function(phone,mask="(000) 000-0000 S00000"){return UTILS.format.mask(phone,mask)},mask:function(str,mask){if(mask)try{str=new StringMask(mask).apply(str)}catch(e){}return _.trim(str)},commafy:function(str){return str.replace(/^(-?\d+)(\d{3}(\.\d+)?)$/,function(_,a,b){return UTILS.format.commafy(a)+","+b})},toBoolean:function(val){return/y|yes|true|on|1/i.test(val)},shorten:function(str,limit,ending){return str.length>limit?str.substring(0,limit)+(ending||"..."):str},capitalize:(str,scope="all")=>"one"==scope?str.toLowerCase().replace(/\b[a-z]/,match=>match.toUpperCase()):str.toLowerCase().replace(/\b[a-z]/g,match=>match.toUpperCase()),filterOutHTML:function(html,tags_to_ignore){var _html=html,_tags_to_ignore=(tags_to_ignore=tags_to_ignore||"b,p,i,u,strike,br").split(",");for(i=0;i<_tags_to_ignore.length;i++)_html=(_html=_html.replace(new RegExp("<"+_tags_to_ignore[i]+"*?>","gi"),"["+_tags_to_ignore[i]+"]")).replace(new RegExp("</"+_tags_to_ignore[i]+"*?>","gi"),"[/"+_tags_to_ignore[i]+"]");for(_html=_html.replace(/<(.|\n)*?>/gi,""),i=0;i<_tags_to_ignore.length;i++)_html=(_html=_html.replace(new RegExp("\\["+_tags_to_ignore[i]+"*?\\]","gi"),"<"+_tags_to_ignore[i]+">")).replace(new RegExp("\\[/"+_tags_to_ignore[i]+"*?\\]","gi"),"</"+_tags_to_ignore[i]+">");return _html},stripOutHtml:html=>html.replace(/(<([^>]+)>)/gi,""),urlEncode:function(str){return encodeURIComponent(str.toString())},urlDecode:function(str){return decodeURIComponent(str.toString())},htmlEncode:function(str){return he.encode(str.toString())},htmlDecode:function(str){return he.decode(str.toString())},lzEncode:function(str){return LZString.compressToBase64(str)},lzDecode:function(str){return LZString.decompressFromBase64(str)},idify:function(item_id){return item_id?~~parseFloat(item_id):0},toRegex:function(str){var flags,regex=null;return/^\/(.)+\/([gim]+)?$/.test(str)&&(flags=str.replace(/.*\/([gimy]*)$/,"$1"),str=str.replace(new RegExp("^/(.*?)/"+flags+"$"),"$1"),regex=new RegExp(str,flags)),regex},getInitialsFromName:function(name=""){return(name.match(/\b\w{1,1}(?=\w*$)|\b\w/g)||[]).map(letter=>letter.toUpperCase()).join("")},anchorify(str=""){return str.replace(/\b(http|https)?:\/\/\S+/gi,'<a href="$&" class="link-wrap" target="_blank" title="$&">$&</a>')},linkify(str="",opts={}){if("undefined"==typeof linkifyHtml)return UTILS.format.anchorify(str);opts=_.extend(APP.values.linkify_options,opts);return linkifyHtml(str,opts)}},UTILS.inputMask={phone:input=>{var input=$(input),mask=new IMask(input[0],{mask:[{mask:"+00 {0} 000-00-0000",startsWith:"49",lazy:!1,country:"Germany"},{mask:"000-000-0000",startsWith:"",lazy:!0,country:"United States"}],dispatch:function(appended,dynamic_mask){var number=(dynamic_mask.value+appended).replace(/\D/g,"");return dynamic_mask.compiledMasks.find(function(m){return 0===number.indexOf(m.startsWith)})}});return input.data("imask",mask),mask},url:input=>{let $input=$(input),mask=new IMask($input[0],{mask:/^[a-zA-Z0-9-_]*$/,lazy:!1,overwrite:!1});return $input.data("imask",mask),mask},route:input=>{let $input=$(input),mask=new IMask($input[0],{mask:/^[a-zA-Z\-_]*$/,lazy:!1,overwrite:!1});return $input.data("imask",mask),mask},email:input=>{let $input=$(input),mask=new IMask($input[0],{mask:/^[a-zA-Z0-9\-_\+\.\@]*$/,lazy:!1,overwrite:!1});return $input.data("imask",mask),mask}},UTILS.isValidRegex=function(str){return/^\/(.)+\/([gim]+)?$/.test(str)},UTILS.getCharKey=function(event){return event&&(event.charCode||event.keyCode||event.which)||0},UTILS.uuid=()=>([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,c=>(c^crypto.getRandomValues(new Uint8Array(1))[0]&15>>c/4).toString(16)),UTILS.asc=function(_char){return _char.charCodeAt(0)},UTILS.chr=function(_charcode){return String.fromCharCode(_charcode)},UTILS.dim={values:{$elm:null},show:function(callback,options){callback={target:$("body"),color:"black",opac:.3,onShow:callback||null},options=_.extend(callback,options||{});UTILS.dim.values.$elm=new UTILS.Blur(options),$("body").addClass("overflow global-dimmer"),UTILS.dim.values.$elm.show()},hide:function(){UTILS.dim.values.$elm.hide(),UTILS.dim.values.elm=null,$("body").removeClass("overflow global-dimmer")}},UTILS.animateCss=(element,animation,prefix="animate__")=>new Promise((resolve,reject)=>{let animation_name=""+prefix+animation,$node=$(element),classes=[prefix+"animated",animation_name];$node.removeClass("marked-for-removal"),/(shake|bounce|flash|pulse|tada|zoom)/.test(animation)||classes.push("animate__faster2x"),/^fadeIn/i.test(animation)&&$node.is(":hidden")&&$node.show(),$node.addClass(classes.join(" "));$node.one("animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd",event=>{event.stopImmediatePropagation(),$node.removeClass(classes.join(" ")),resolve($node)})}),UTILS.flashItem=($item,callback,background={})=>{$item&&$item.length&&(background?.from&&$item.css({backgroundColor:background.from}),UTILS.animateCss($item,"flash").then(()=>{background?.to&&$item.css("transition","backgroundColor 5s").css({backgroundColor:background.to}),"function"==typeof callback&&callback($item)}))},UTILS.tadaItem=($item,callback,background={})=>{$item&&$item.length&&(background?.from&&$item.css({backgroundColor:background.from}),UTILS.animateCss($item,"tada").then(()=>{background?.to&&$item.css("transition","backgroundColor 5s").css({backgroundColor:background.to}),"function"==typeof callback&&callback($item)}))},UTILS.file={ext:function(filename){return/[.]/.exec(filename)?/[^.]+$/.exec(filename):[]},check:function(file,type){type=type||"img";return _.isIn({img:["jpg","png","bmp","gif","tiff"],doc:["doc","rtf","txt","xls","zip"],vid:["mpeg","mpg","wmv","avi","rm","mp4","mov","fla","swf","flv","f4v"],font:["ttf","otf"]}[type],file.fileExtension().join().toLowerCase())}},UTILS.fn={bind:function(fn,scope){fn.targetScope=scope;return function(func,args){args=_.createArray(args);var scope=func.targetScope||window;return function(){try{var _args=_.forceArray(arguments).concat(args);return func.apply(scope,_args)}catch(e){}}}(fn,2<arguments.length?_.forceArray(arguments).slice(2):null)},bindMethods:function(scope){for(var k in scope){var func=scope[k];"function"==typeof func&&(scope[k]=UTILS.fn.bind(func,scope))}},interval:function(fn,interval){var args=slice.call(arguments,2);return setTimeout(function(){return fn.apply(null,args)},interval)},clear:function(timer){return clearTimeout(timer),clearInterval(timer),null}},UTILS.isDefined=function(obj){return!_.isUndefined(obj)&&!_.isNull(obj)},UTILS.getURLParams=function(){return Qs.parse(window.location.search,{ignoreQueryPrefix:!0})},UTILS.addParamToURL=function(url="",params=[]){for(var param of params)url+=(url.split("?")[1]?"&":"?")+param;return url},UTILS.getIframeWindowObj=function(iframe){let iframe_window=null,$iframe=$(iframe);if($iframe.length)try{iframe_window=$iframe[0].contentWindow}catch(e){try{iframe_window=$iframe[0].contentDocument.defaultView}catch(e){}}return iframe_window},UTILS.getIframeDocObj=function(iframe){let iframe_document,$iframe=$(iframe);return iframe_document=$iframe.length?$iframe[0].contentDocument||$iframe[0].contentWindow.document:iframe_document},UTILS.createPromise=function(){var _resolve,_reject,promise=new Promise(function(resolve,reject){_resolve=resolve,_reject=reject});return promise.resolve=_resolve,promise.reject=_reject,promise},UTILS.includesClass=(elm,_classes)=>{let classes="array"==typeof _classes?_classes:[_classes];return classes.flat().some(c=>[...$(elm)[0].classList].includes(c))},UTILS.print=(url_or_elm=null)=>{if(url_or_elm){let $iframe=$('<iframe name="print-wrapper" style="position:absolute; top:-10000000px;"></iframe>'),url=/^http|\//i.test(url_or_elm)?url_or_elm:"javascript:false;",_print=()=>{window.frames["print-wrapper"].document.body.innerHTML.length?(window.frames["print-wrapper"].focus(),window.frames["print-wrapper"].print(),setTimeout(()=>{$iframe.remove()},100)):setTimeout(_print,500)};$iframe.on("load",()=>{if(/^javascript/.test(url)){let iframe_doc_obj=UTILS.getIframeDocObj($iframe),html=$(url_or_elm).html();iframe_doc_obj.open(),iframe_doc_obj.write(`<html><head><title>print content</title></head><body>${html}</body></html>`),iframe_doc_obj.close()}_print()}).prop("src",url).appendTo("body")}else window.print();return!1},UTILS.__imagePreviewZooming=null,UTILS.imagePreview=img=>{img&&$(img).addClass("img-preview"),UTILS.__imagePreviewZooming||(UTILS.__imagePreviewZooming=new Zooming({bgOpacity:0,enableGrab:!1,zIndex:1e5,onBeforeOpen:target=>{let $target=$(target),$box=$target.closest(".box"),$chat_page=$("#page-chat, #page-proxy"),$parent=$target.parent();$parent.length&&$parent.height($parent.height()),$box.length?$box.addClass("img-preview-wrapper"):$chat_page.length&&$chat_page.addClass("img-preview-wrapper"),$target.addClass("img-preview-zoomed")},onClose:target=>{let $target=$(target),$box=$target.closest(".box"),$chat_page=$("#page-chat"),$parent=$target.parent();$parent.length&&$parent.height("auto"),$box.length?$box.removeClass("img-preview-wrapper"):$chat_page.length&&$chat_page.removeClass("img-preview-wrapper"),$target.removeClass("img-preview-zoomed")}}),UTILS.__imagePreviewZooming.listen(".img-preview"))},UTILS.cookie={create:function(name,value,days){var date;days=days?((date=new Date).setTime(date.getTime()+24*days*60*60*1e3),"; expires="+date.toGMTString()):"",document.cookie=name+"="+value+days+"; path=/"},read:function(name){for(var nameEQ=name+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1,c.length);if(0==c.indexOf(nameEQ))return c.substring(nameEQ.length,c.length)}return null},erase:function(name){UTILS.cookie.create(name,"",-1)}},UTILS.log=function(){var now,args;(void 0!==APP.showLog&&APP.showLog()||!1)&&(now=(now=new Date).getHours()+":"+now.getMinutes()+":"+now.getSeconds(),(args=[].slice.call(arguments)).length&&(_log.history=_log.history||[],_log.history.push(args),this.console&&(console.log(now.toString(),args.shift().toString(),args),arguments[0].stack&&console.error(arguments[0].stack))))},UTILS.extend=(target,...sources)=>{var length=sources.length;if(length<1||null==target)return target;for(let i=0;i<length;i++){var source=sources[i];for(const key in source)target[key]=source[key]}return target},UTILS.debounce=(callback,wait)=>{let timeoutId=null;return(...args)=>{window.clearTimeout(timeoutId),timeoutId=window.setTimeout(()=>{callback.apply(null,args)},wait)}},UTILS.fetch=function(url="",opts={}){const options={url:url,headers:_.extend({"X-Requested-With":"XMLHttpRequest"},opts.headers||{}),method:"method"in opts?opts.method.toUpperCase():"GET"};return options[/^GET/i.test(options.method)?"params":"data"]="data"in opts?opts.data:{},"method"in opts&&/^POST|PUT$/i.test(opts.method)&&(options.method=opts.method.toUpperCase(),options.headers["content-type"]="content_type"in opts?opts.content_type:"application/x-www-form-urlencoded;charset=UTF-8",options.data=Qs.stringify(options.data,{encodeValuesOnly:!0})),axios(options).then(response=>"string"==typeof response.data?JSON.parse(response.data):response.data)},UTILS.joinArray=(list,delim)=>{try{return list.join(delim)}catch(e){var r=list[0]||"";return list.forEach(elm=>{r+=delim+elm},1),r+""}},_.mixin({isWindow:function(obj){return null!=obj&&obj===obj.window},createArray:function(){return _.flatten(_.toArray(arguments))},forceArray:function(arr1){if(_.isArray(arr1))return arr1;for(var arr2=[],i=0;i<arr1.length;i++)arr2.push(arr1[i]);return arr2},joinArray:UTILS.joinArray,isIn:function(arr,elm,greedy){if(greedy)return-1!=_.indexOf(arr,elm);for(var i=0;i<arr.length;i++)if(elm==arr[i])return!0;return!1},compare:function(arr1,arr2){return!_.difference(arr1,arr2).length},reGroup:function(arr,delim){var groups={};return _.reduce(arr,function(result,item){var key=(delim?item.split(delim):item)[0],group=groups[key];return group||result.push(group=groups[key]=[]),group.push(item),result},[])},reorderItem:(arr,from,to)=>{from=arr.splice(from,1)[0];return arr.splice(to,0,from),arr}}),$.extend($.fn,{isValidCreditCard:function(){return UTILS.isValidCreditCard($(this).val())},isValidEmail:function(){return UTILS.isValidEmail($(this).val())},isValidPhone:function(){return UTILS.isValidPhone($(this).val())},isValidPassword:function(){return UTILS.isValidPassword($(this).val())},isValidDate:function(format="MM/DD/YYYY"){return UTILS.isValidDate($(this).val(),format)},setPhone:function(){return this.each(function(){var $input=$(this);$input.is(":input")?$input.val(UTILS.format.phone($input.val())):$input.text(UTILS.format.phone($input.text()))})},setMask:function(mask){return this.each(function(){var $input=$(this);$input.is(":input")?$input.val(UTILS.format.mask($input.val(),mask)):$input.text(UTILS.format.mask($input.text(),mask))})},enableInputMask:function(type="phone"){return this.each(function(){UTILS.inputMask[type]($(this))})},allowTabbing:function(){var keysAllowed={TAB:9};return this.each(function(){$(this).on("keydown",function(event){var scrollTop,charKey=UTILS.events.getCharKey(event);_.isIn(_.values(keysAllowed),charKey)||(event.preventDefault(),charKey=this.selectionStart,event=this.selectionEnd,scrollTop=this.scrollTop,this.value=this.value.substring(0,charKey)+"\t"+this.value.substring(event,this.value.length),this.focus(),this.selectionStart=charKey+"\t".length,this.selectionEnd=charKey+"\t".length,this.scrollTop=scrollTop)})})},capitalize:function(scope){return this.each(function(){var $input=$(this);$input.on("keyup",function(event){$input.val(UTILS.format.capitalize($input.val()),scope)})})},limitByCount:function(options){var splitter={word:" ",char:""}[(options=$.extend({limit:100,counterDiv:null,splitBy:"word"},options)).splitBy];return this.each(function(){function checkWords(){text=$textarea.val(),(wordcount=text.length?$.trim(text).split(splitter).length:0)>=options.limit?(options.counterDiv&&$(options.counterDiv).html("0 "+options.splitBy+"s left"),text=(text=$.trim(text).split(splitter,options.limit)).join(splitter),$textarea.val(text)):options.counterDiv&&$(options.counterDiv).html(options.limit-wordcount+" "+options.splitBy+"s left")}var wordcount,text,$textarea=$(this);options.counterDiv||(options.counterDiv=$('<p class="help-block text-right margin-t0 margin-b6"></p>'),$textarea.after(options.counterDiv)),options.counterDiv&&$(options.counterDiv).html("Max. "+options.limit+" "+options.splitBy+"s");$textarea.val().length&&checkWords(),$textarea.keyup(function(event){event.preventDefault(),checkWords()})})},setCenter:function(offset,parent){return this.each(function(){var $elm=$(this),$parent=_.isObject(parent)?$(parent):null;$parent&&$parent.length&&!/^(fixed|absolute|relative)$/i.test($parent.css("position"))&&$parent.addClass("pos-relative"),$elm.addClass("pos-centered")})},ignore:function(sel){return this.clone().find(sel).remove().end()},nextNodeByClass:function(className){var $node=this;return className&&(className="."+className.replace(/\./g,""),$node=(className=$(className)).eq(className.index($node)+1)),$node},prevNodeByClass:function(className){var index,$node=this;return className&&(className="."+className.replace(/\./g,""),className=$(className),$node=0<=(index=Math.abs(className.index($node))-1)?className.eq(index):$([])),$node},putCursorAtEnd:function(custom_focus_event="focus"){return this.each(function(){let $field=$(this);if(/true/i.test($field.prop("contenteditable"))){let range,selection;document.createRange&&((range=document.createRange()).selectNodeContents(this),range.collapse(!1),range.startOffset&&range.endOffset&&((selection=window.getSelection()).removeAllRanges(),selection.addRange(range)))}else $field.on(custom_focus_event,function(event){setTimeout(function(){this.selectionStart=this.selectionEnd=1e4}.bind(this),0)});$field.focus()})},attachTransitionEvent:function(css_prop){return this.each(function(){UTILS.attachTransitionEvent($(this),css_prop)})},imagePreview:function(){return this.each(function(){UTILS.imagePreview(this)})},removeClassRegex:function(regex){return $(this).removeClass(function(index,classes){return classes.split(/\s+/).filter(function(c){return regex.test(c)}).join(" ")})},moveToIndex:function(index){if(!Number.isInteger(index))throw new Error('Incorrect index format! Allowed formats are: "up", "down" or an index of the sibling to swap with');var self_index,siblings;Number.isInteger(index)&&(self_index=this.index(),siblings=this.siblings(),index<self_index?this.insertBefore(siblings[index]):this.insertAfter(siblings[index-1]))},includesClass:function(_classes){return UTILS.includesClass($(this),_classes)}}),$.extend($.expr[":"],{regex:function(elem,index,match){var match=match[3].split(","),validLabels=/^(data|css):/,validLabels={method:match[0].match(validLabels)?match[0].split(":")[0]:"attr",property:match.shift().replace(validLabels,"")};return new RegExp(match.join("").replace(/^\s+|\s+$/g,""),"ig").test(jQuery(elem)[validLabels.method](validLabels.property))},width:function(a,i,m){return!(!m[3]||!/^(<|>)d+$/.test(m[3]))&&(">"===m[3].substr(0,1)?$(a).width()>m[3].substr(1):$(a).width()<m[3].substr(1))},data:function(a,i,m){var x,e=$(a).get(0);if(m[3])return(m=m[3].split("="))[1]?/^.+([mig]+)?$/.test(m[1])?new RegExp(m[1].substr(1,m[1].lastIndexOf("/")-1),m[1].substr(m[1].lastIndexOf("/")+1)).test($(a).data(m[0])):$(a).data(m[0])==m[1]:!!$(a).data(m[0])||($(a).removeData(m[0]),!1);for(x in e)if(/jQueryd+/.test(x))return!0;return!1}}),jQuery.event.special.touchstart={setup:function(_,ns,handle){this.addEventListener("touchstart",handle,{passive:!ns.includes("noPreventDefault")})}},$.cssNumber.gridRowStart=$.cssNumber.gridRowEnd=$.cssNumber.gridColumnStart=$.cssNumber.gridColumnEnd=!0,Array.prototype.first||(Array.prototype.first=function(num_of_elms){return"number"==typeof num_of_elms?_.dropRight(this,this.length-num_of_elms):_.first(this)}),Array.prototype.last||(Array.prototype.last=function(num_of_elms){return"number"==typeof num_of_elms?_.drop(this,this.length-num_of_elms):_.last(this)}),Array.prototype.min||(Array.prototype.min=function(){return _.min(this)}),Array.prototype.max||(Array.prototype.max=function(){return _.max(this)}),Array.prototype.index||(Array.prototype.index=function(elm){return _.indexOf(this,elm)}),Array.prototype.flatten||(Array.prototype.flatten=function(){return _.flatten(this)}),Array.prototype.diff||(Array.prototype.diff=function(array){return _.difference(this,array)}),Array.prototype.isIn||(Array.prototype.isIn=function(elm){return _.isIn(this,elm)}),Array.prototype.intersect||(Array.prototype.intersect=function(arr){return _.intersection(this,arr)}),Array.prototype.compare||(Array.prototype.compare=function(arr){return _.compare(this,arr)}),Array.prototype.prepend||(Array.prototype.prepend=function(elm){return this.unshift(elm)}),Array.prototype.reGroup||(Array.prototype.reGroup=function(delim){return _.reGroup(this,delim)}),Array.prototype.reorderItem||(Array.prototype.reorderItem=function(from,to){return _.reorderItem(this,from,to)}),Array.prototype.sortBy||(Array.prototype.sortBy=function(attr){return _.sortBy(this,attr)}),Function.prototype.delay||(Function.prototype.delay=function(interval,args){return _.delay(this,interval,args)}),Function.prototype.interval||(Function.prototype.interval=function(interval,args){return UTILS.fn.interval(this,interval,args)}),Function.prototype.bind||(Function.prototype.bind=function(scope,args){return UTILS.fn.bind(this,scope,args)}),jQuery.fetch||(jQuery.fetch=UTILS.fetch),String.prototype.urlEncode||(String.prototype.urlEncode=function(){return UTILS.format.urlEncode(this)}),String.prototype.urlDecode||(String.prototype.urlDecode=function(){return UTILS.format.urlDecode(this)}),String.prototype.htmlEncode||(String.prototype.htmlEncode=function(){return UTILS.format.htmlEncode(this)}),String.prototype.htmlDecode||(String.prototype.htmlDecode=function(){return UTILS.format.htmlDecode(this)}),String.prototype.sha1Encode||(String.prototype.sha1Encode=function(){return UTILS.Encryption.sha1(this)}),String.prototype.base64Encode||(String.prototype.base64Encode=function(){return UTILS.Encryption.base64.encode(this)}),String.prototype.base64Decode||(String.prototype.base64Decode=function(){return UTILS.Encryption.base64.decode(this)}),String.prototype.lzEncode||(String.prototype.lzEncode=function(){return UTILS.format.lzEncode(this)}),String.prototype.lzDecode||(String.prototype.lzDecode=function(){return UTILS.format.lzDecode(this)}),String.prototype.fileExtension||(String.prototype.fileExtension=function(){return UTILS.file.ext(this)}),String.prototype.capitalize||(String.prototype.capitalize=function(scope){return UTILS.format.capitalize(this,scope)}),String.prototype.idify||(String.prototype.idify=Number.prototype.idify=function(){return UTILS.format.idify(this)}),String.prototype.shorten||(String.prototype.shorten=function(limit,ending){return UTILS.format.shorten(this,limit,ending)}),String.prototype.toRegex||(String.prototype.toRegex=function(){return UTILS.format.toRegex(this)}),String.prototype.isValidRegex||(String.prototype.isValidRegex=function(){return UTILS.isValidRegex(this)}),String.prototype.anchorify||(String.prototype.anchorify=function(){return UTILS.format.anchorify(this)}),String.prototype.linkify||(String.prototype.linkify=function(opts={}){return UTILS.format.linkify(this,opts)}),String.prototype.stripOutHtml||(String.prototype.stripOutHtml=function(opts=0){return UTILS.format.stripOutHtml(this)}),Event.prototype.getCharKey||(Event.prototype.getCharKey=function(){return UTILS.getCharKey(this)}),function(){var old_parseInt=parseInt;parseInt=function(number,radix){return old_parseInt(number,radix||10)}}(),window.toBoolean=UTILS.format.toBoolean,window._log=UTILS.log,"undefined"!=typeof module&&module.hasOwnProperty("exports")&&(module.exports={Array:Array,String:String,Function:Function,parseInt:parseInt,UTILS:UTILS,toBoolean:UTILS.format.toBoolean,_log:UTILS.log});